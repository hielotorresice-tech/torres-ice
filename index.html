<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Torres Ice | Venta de Hielo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background:url("fondo-hielo.jpg") no-repeat center center fixed;
  background-size:cover;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}

.app{
  width:95%;
  max-width:520px;
  background:white;
  border-radius:20px;
  padding:20px;
  box-shadow:0 10px 40px rgba(0,0,0,.3);
  text-align:center;
}

h1{margin:5px 0;color:#008cff}
.sub{font-size:14px;color:#555}

.qty{
  display:flex;
  justify-content:center;
  align-items:center;
  margin:15px 0;
}
.qty button{
  width:45px;height:45px;
  border:none;
  border-radius:50%;
  background:#008cff;
  color:white;
  font-size:22px;
}
.qty span{width:60px;font-size:22px}

.line{margin:6px 0;font-size:16px}
.total{font-size:22px;color:red;font-weight:bold}

input, select{
  width:100%;
  padding:10px;
  border-radius:8px;
  border:1px solid #ccc;
  margin-top:8px;
}

.btn{
  width:100%;
  padding:18px;
  margin-top:12px;
  border:none;
  border-radius:14px;
  font-size:18px;
  font-weight:bold;
  color:white;
  cursor:pointer;
}

  .whatsapp{background:#25D366}
.llamar{background:#0077cc}
.mercado{background:#009ee3}

.transfer{
  background:#f4f4f4;
  padding:10px;
  border-radius:10px;
  margin-top:15px;
  font-size:14px;
  text-align:left;
}

iframe{
  width:100%;
  height:200px;
  border-radius:10px;
  margin-top:10px;
  border:0;
}
</style>
</head>

<body>

<div class="app">

<h1>ğŸ§Š Torres Ice ğŸ§Š</h1>
<div class="sub">Venta de Hielo Â· CopiapÃ³</div>
<div class="sub">ğŸ•˜ 09:00 a 22:00 Â· ğŸšš Delivery disponible</div>

<hr>

<h3>Bolsa de Hielo</h3>
<div>Formato: 1 Kg</div>
<div><strong>$500 c/u</strong></div>

<div class="qty">
  <button onclick="cambiar(-1)">âˆ’</button>
  <span id="cantidad">1</span>
  <button onclick="cambiar(1)">+</button>
</div>

<div class="line">Subtotal: $<span id="subtotal">500</span></div>
<div class="line">Delivery: $<span id="delivery">0</span></div>
<div class="line total">TOTAL: $<span id="total">500</span></div>

<select id="zona" onchange="actualizar()">
  <option value="">Zona de entrega</option>
  <option value="centro">CopiapÃ³ Centro (Gratis desde 10)</option>
  <option value="alrededores">Alrededores (Gratis desde 15)</option>
  <option value="paipote">Paipote (Gratis desde 20)</option>
  <option value="tierra">Tierra Amarilla (Gratis desde 25)</option>
  <option value="retiro">Retiro en local</option>
</select>

<input id="nombre" placeholder="Nombre del cliente">
<input id="celular" placeholder="NÂ° celular">
<input id="direccion" placeholder="DirecciÃ³n de entrega">

<button class="mercado" onclick="window.open('https://link.mercadopago.cl/torresice','_blank')">ğŸ’³ Pagar con Mercado Pago</button>

<div class="transfer">
<strong>Transferencia</strong><br>
Banco: Coopeuch<br>
Tipo: Cuenta Vista<br>
NÂ°: 251105735<br>
RUT: 12.218.473-0<br>
Titular: Oscar Torres LÃ³pez
</div>

<button class="whatsapp" onclick="enviarWhats()">ğŸ“± Enviar comprobante por WhatsApp</button>
<button class="llamar" onclick="window.location.href='tel:+56927731874'">ğŸ“ Llamar ahora</button>

<iframe src="https://maps.google.com/maps?q=Miguel%20Gallo%201157%20Copiap%C3%B3&t=&z=16&ie=UTF8&iwloc=&output=embed"></iframe>

<div class="sub" style="margin-top:10px;">
ğŸ“ CopiapÃ³ Â· AtenciÃ³n directa por WhatsApp<br>
ğŸšš Delivery Local
</div>

</div>

<script>
let precio = 500;
let cantidad = 1;

const zonas={
  centro:{costo:1000,gratis:10},
  alrededores:{costo:1500,gratis:15},
  paipote:{costo:2000,gratis:20},
  tierra:{costo:2500,gratis:25},
  retiro:{costo:0,gratis:0}
};

function cambiar(v){
  cantidad+=v;
  if(cantidad<1) cantidad=1;
  actualizar();
}

function actualizar(){
  let subtotal = cantidad * precio;
  let zona = document.getElementById("zona").value;
  let delivery=0;

  if(zona){
    let z=zonas[zona];
    if(cantidad < z.gratis) delivery=z.costo;
  }

  document.getElementById("cantidad").innerText=cantidad;
  document.getElementById("subtotal").innerText=subtotal;
  document.getElementById("delivery").innerText=delivery;
  document.getElementById("total").innerText=subtotal+delivery;
}

function enviarWhats(){
  let zona=document.getElementById("zona").options[zona.selectedIndex]?.text || "";
  let nombre=document.getElementById("nombre").value;
  let cel=document.getElementById("celular").value;
  let dir=document.getElementById("direccion").value;

  let msg=`Hola, quiero pedir hielo Torres Ice ğŸ§Š

Cantidad: ${cantidad} bolsas (1 Kg)
Subtotal: $${cantidad*precio}
Delivery: $${document.getElementById("delivery").innerText}
Total a pagar: $${document.getElementById("total").innerText}

Cliente: ${nombre}
Celular: ${cel}
DirecciÃ³n: ${dir}

Adjunto comprobante de pago.`;

  window.open("https://wa.me/56927731874?text="+encodeURIComponent(msg));
}

actualizar();
</script>

</body>
</html>
